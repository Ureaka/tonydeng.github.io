<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Java Stream详解 | TonyDeng&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Stream是 Java 8新增加的类，用来补充集合类。
Stream代表数据流，流中的数据元素的数量可能是有限的，也可能是无限的。
Stream和其它集合类的区别在于：其它集合类主要关注与有限数量的数据的访问和有效管理(增删改)，而Stream并没有提供访问和管理元素的方式，而是通过声明数据源的方式，利用可计算的操作在数据源上执行，当然BaseStream.iterator() 和 BaseS">
<meta property="og:type" content="article">
<meta property="og:title" content="Java Stream详解">
<meta property="og:url" content="http://tonydeng.github.io/2016/04/25/java-stream/index.html">
<meta property="og:site_name" content="TonyDeng's Blog">
<meta property="og:description" content="Stream是 Java 8新增加的类，用来补充集合类。
Stream代表数据流，流中的数据元素的数量可能是有限的，也可能是无限的。
Stream和其它集合类的区别在于：其它集合类主要关注与有限数量的数据的访问和有效管理(增删改)，而Stream并没有提供访问和管理元素的方式，而是通过声明数据源的方式，利用可计算的操作在数据源上执行，当然BaseStream.iterator() 和 BaseS">
<meta property="og:image" content="http://tonydeng.github.io/images/stream-api-java8.png">
<meta property="og:image" content="http://tonydeng.github.io/images/streams.png">
<meta property="og:updated_time" content="2016-07-12T16:26:58.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Java Stream详解">
<meta name="twitter:description" content="Stream是 Java 8新增加的类，用来补充集合类。
Stream代表数据流，流中的数据元素的数量可能是有限的，也可能是无限的。
Stream和其它集合类的区别在于：其它集合类主要关注与有限数量的数据的访问和有效管理(增删改)，而Stream并没有提供访问和管理元素的方式，而是通过声明数据源的方式，利用可计算的操作在数据源上执行，当然BaseStream.iterator() 和 BaseS">
<meta name="twitter:image" content="http://tonydeng.github.io/images/stream-api-java8.png">
  
    <link rel="alternative" href="/atom.xml" title="TonyDeng&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css">
  

</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">TonyDeng&#39;s Blog</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">“In me the tiger sniffes the rose.” -- Siegfried Sasson</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://tonydeng.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-java-stream" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/04/25/java-stream/" class="article-date">
  <time datetime="2016-04-25T08:59:03.000Z" itemprop="datePublished">2016-04-25</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/程序设计/">程序设计</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Java Stream详解
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><img src="/images/stream-api-java8.png" alt="java8 stream api"></p>
<p>Stream是 Java 8新增加的类，用来补充集合类。</p>
<p>Stream代表数据流，流中的数据元素的数量可能是有限的，也可能是无限的。</p>
<p>Stream和其它集合类的区别在于：其它集合类主要关注与有限数量的数据的访问和有效管理(增删改)，而Stream并没有提供访问和管理元素的方式，而是通过声明数据源的方式，利用可计算的操作在数据源上执行，当然<code>BaseStream.iterator()</code> 和 <code>BaseStream.spliterator()</code>操作提供了遍历元素的方法。</p>
<p>Java Stream提供了提供了串行和并行两种类型的流，保持一致的接口，提供函数式编程方式，以管道方式提供中间操作和最终执行操作，为Java语言的集合提供了现代语言提供的类似的高阶函数操作，简化和提高了Java集合的功能。</p>
<p>本文首先介绍Java Stream的特点，然后按照功能分类逐个介绍流的中间操作和终点操作，最后会介绍第三方为Java Stream做的扩展。</p>
<a id="more"></a>
<h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p>本节翻译整理自<a href="https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html" target="_blank" rel="external">Java8 Stream Javadoc</a>，并对流的这些特性做了进一步的解释。</p>
<p>Stream接口还包含几个基本类型的子接口如<code>IntStream</code>, <code>LongStream</code> 和 <code>DoubleStream</code>。</p>
<p>关于流和其它集合具体的区别，可以参照下面的列表：</p>
<ol>
<li>不存储数据。流是基于数据源的对象，它本身不存储数据元素，而是通过管道将数据源的元素传递给操作。</li>
<li>函数式编程。流的操作不会修改数据源，例如filter不会将数据源中的数据删除。</li>
<li>延迟操作。流的很多操作如filter,map等中间操作是延迟执行的，只有到终点操作才会将操作顺序执行。</li>
<li>可以解绑。对于无限数量的流，有些操作是可以在有限的时间完成的，比如limit(n) 或 findFirst()，这些操作可是实现”短路”(Short-circuiting)，访问到有限的元素后就可以返回。</li>
<li>纯消费。流的元素只能访问一次，类似Iterator，操作没有回头路，如果你想从头重新访问流的元素，对不起，你得重新生成一个新的流。</li>
</ol>
<p>流的操作是以管道的方式串起来的。流管道包含一个数据源，接着包含零到N个中间操作，最后以一个终点操作结束。</p>
<p><img src="/images/streams.png" alt="java stream"></p>
<h3 id="并行-Parallelism"><a href="#并行-Parallelism" class="headerlink" title="并行 Parallelism"></a>并行 Parallelism</h3><p>所有的流操作都可以串行执行或者并行执行。</p>
<p>除非显示地创建并行流，否则Java库中创建的都是串行流。 <code>Collection.stream()</code>为集合创建串行流而<code>Collection.parallelStream()</code>为集合创建并行流。<code>IntStream.range(int, int)</code>创建的是串行流。通过<code>parallel()</code>方法可以将串行流转换成并行流,sequential()方法将流转换成串行流。</p>
<p>除非方法的Javadoc中指明了方法在并行执行的时候结果是不确定(比如<code>findAny</code>、<code>forEach</code>)，否则串行和并行执行的结果应该是一样的。</p>
<h3 id="Non-interference"><a href="#Non-interference" class="headerlink" title="Non-interference"></a>Non-interference</h3><p>流可以从非线程安全的集合中创建，当流的管道执行的时候，非concurrent数据源不应该被改变。下面的代码会抛出<code>java.util.ConcurrentModificationException</code>异常：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">List&lt;String&gt; l = <span class="keyword">new</span> ArrayList(Arrays.asList(<span class="string">"one"</span>, <span class="string">"two"</span>));</span><br><span class="line">Stream&lt;String&gt; sl = l.stream();</span><br><span class="line">sl.forEach(s -&gt; l.add(<span class="string">"three"</span>));</span><br></pre></td></tr></table></figure>
<p>在设置中间操作的时候，可以更改数据源，只有在执行终点操作的时候，才有可能出现并发问题(抛出异常，或者不期望的结果)，比如下面的代码不会抛出异常：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">List&lt;String&gt; l = <span class="keyword">new</span> ArrayList(Arrays.asList(<span class="string">"one"</span>, <span class="string">"two"</span>));</span><br><span class="line">Stream&lt;String&gt; sl = l.stream();</span><br><span class="line">l.add(<span class="string">"three"</span>);</span><br><span class="line">sl.forEach(System.out::println);</span><br></pre></td></tr></table></figure>
<p>对于concurrent数据源，不会有这样的问题，比如下面的代码很正常：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">List&lt;String&gt; l = <span class="keyword">new</span> CopyOnWriteArrayList&lt;&gt;(Arrays.asList(<span class="string">"one"</span>, <span class="string">"two"</span>));</span><br><span class="line">Stream&lt;String&gt; sl = l.stream();</span><br><span class="line">sl.forEach(s -&gt; l.add(<span class="string">"three"</span>));</span><br></pre></td></tr></table></figure>
<p>虽然我们上面例子是在终点操作中对非并发数据源进行修改，但是非并发数据源也可能在其它线程中修改，同样会有并发问题。</p>
<h3 id="无状态-Stateless-behaviors"><a href="#无状态-Stateless-behaviors" class="headerlink" title="无状态 Stateless behaviors"></a>无状态 Stateless behaviors</h3><p>大部分流的操作的参数都是函数式接口，可以使用Lambda表达式实现。它们用来描述用户的行为，称之为行为参数(behavioral parameters)。</p>
<p>如果这些行为参数有状态，则流的操作的结果可能是不确定的，比如下面的代码:</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">List&lt;String&gt; l = <span class="keyword">new</span> ArrayList(Arrays.asList(<span class="string">"one"</span>, <span class="string">"two"</span>, ……));</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">State</span> </span>&#123;</span><br><span class="line">    <span class="keyword">boolean</span> s;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">final</span> State state = <span class="keyword">new</span> State();</span><br><span class="line">Stream&lt;String&gt; sl = l.stream().map(e -&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (state.s)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"OK"</span>;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        state.s = <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">return</span> e;</span><br><span class="line">    &#125; </span><br><span class="line">&#125;);</span><br><span class="line">sl.forEach(System.out::println);</span><br></pre></td></tr></table></figure>
<p>上面的代码在并行执行时多次的执行结果可能是不同的。这是因为这个lambda表达式是有状态的。</p>
<h3 id="排序-Ordering"><a href="#排序-Ordering" class="headerlink" title="排序 Ordering"></a>排序 Ordering</h3><p>某些流的返回的元素是有确定顺序的，我们称之为 <em>encounter order</em>。这个顺序是流提供它的元素的顺序，比如数组的encounter order是它的元素的排序顺序，List是它的迭代顺序(iteration order)，对于HashSet,它本身就没有encounter order。</p>
<p>一个流是否是encounter order主要依赖数据源和它的中间操作，比如数据源List和Array上创建的流是有序的(ordered)，但是在HashSet创建的流不是有序的。</p>
<p><code>sorted()</code>方法可以将流转换成有序的，<code>unordered</code>可以将流转换成无序的。<br>除此之外，一个操作可能会影响流的有序,比如<code>map</code>方法，它会用不同的值甚至类型替换流中的元素，所以输入元素的有序性已经变得没有意义了，但是对于<code>filter</code>方法来说，它只是丢弃掉一些值而已，输入元素的有序性还是保障的。</p>
<p>对于串行流，流有序与否不会影响其性能，只是会影响确定性(determinism)，无序流在多次执行的时候结果可能是不一样的。</p>
<p>对于并行流，去掉有序这个约束可能会提供性能，比如<code>distinct</code>、<code>groupingBy</code>这些聚合操作。</p>
<h3 id="结合性-Associativity"><a href="#结合性-Associativity" class="headerlink" title="结合性 Associativity"></a>结合性 Associativity</h3><p>一个操作或者函数op满足结合性意味着它满足下面的条件：</p>
<figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line">(<span class="selector-tag">a</span> op b) op c == <span class="selector-tag">a</span> op (<span class="selector-tag">b</span> op c)</span><br></pre></td></tr></table></figure>
<p>对于并发流来说，如果操作满足结合性，我们就可以并行计算：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">a op b op c op d == (a op b) op (c op d)</span><br></pre></td></tr></table></figure>
<p>比如<code>min</code>、<code>max</code>以及字符串连接都是满足结合性的。</p>
<h2 id="创建Stream"><a href="#创建Stream" class="headerlink" title="创建Stream"></a>创建Stream</h2><p>可以通过多种方式创建流：</p>
<ol>
<li>通过集合的<code>stream()</code>方法或者<code>parallelStream()</code>，比如<code>Arrays.asList(1,2,3).stream()</code>。</li>
<li>通过<code>Arrays.stream(Object[])</code>方法, 比如<code>Arrays.stream(new int[]{1,2,3})</code>。</li>
<li>使用流的静态方法，比如<code>Stream.of(Object[])</code>, <code>IntStream.range(int, int)</code> 或者 <code>Stream.iterate(Object, UnaryOperator)，如Stream.iterate(0, n -&gt; n * 2)</code>，或者<code>generate(Supplier&lt;T&gt; s)</code>如<code>Stream.generate(Math::random)</code>。</li>
<li><code>BufferedReader.lines()</code>从文件中获得行的流。</li>
<li><code>Files</code>类的操作路径的方法，如<code>list</code>、<code>find</code>、<code>walk</code>等。</li>
<li>随机数流<code>Random.ints()</code>。</li>
<li>其它一些类提供了创建流的方法，如<code>BitSet.stream()</code>, <code>Pattern.splitAsStream(java.lang.CharSequence)</code>, 和 <code>JarFile.stream()</code>。</li>
<li>更底层的使用<code>StreamSupport</code>，它提供了将<code>Spliterator</code>转换成流的方法。</li>
</ol>
<h2 id="中间操作-intermediate-operations"><a href="#中间操作-intermediate-operations" class="headerlink" title="中间操作 intermediate operations"></a>中间操作 intermediate operations</h2><p>中间操作会返回一个新的流，并且操作是延迟执行的(lazy)，它不会修改原始的数据源，而且是由在终点操作开始的时候才真正开始执行。<br>这个Scala集合的转换操作不同，Scala集合转换操作会生成一个新的中间集合，显而易见Java的这种设计会减少中间对象的生成。</p>
<p>下面介绍流的这些中间操作：</p>
<h3 id="distinct"><a href="#distinct" class="headerlink" title="distinct"></a>distinct</h3><p><code>distinct</code>保证输出的流中包含唯一的元素，它是通过<code>Object.equals(Object)</code>来检查是否包含相同的元素。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">List&lt;String&gt; l = Stream.of(<span class="string">"a"</span>,<span class="string">"b"</span>,<span class="string">"c"</span>,<span class="string">"b"</span>)</span><br><span class="line">        .distinct()</span><br><span class="line">        .collect(Collectors.toList());</span><br><span class="line">System.out.println(l); <span class="comment">//[a, b, c]</span></span><br></pre></td></tr></table></figure>
<h3 id="filter"><a href="#filter" class="headerlink" title="filter"></a>filter</h3><p><code>filter</code>返回的流中只包含满足断言(predicate)的数据。</p>
<p>下面的代码返回流中的偶数集合。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">List&lt;Integer&gt; l = IntStream.range(<span class="number">1</span>,<span class="number">10</span>)</span><br><span class="line">        .filter( i -&gt; i % <span class="number">2</span> == <span class="number">0</span>)</span><br><span class="line">        .boxed()</span><br><span class="line">        .collect(Collectors.toList());</span><br><span class="line">System.out.println(l); <span class="comment">//[2, 4, 6, 8]</span></span><br></pre></td></tr></table></figure>
<h3 id="map"><a href="#map" class="headerlink" title="map"></a>map</h3><p><code>map</code>方法将流中的元素映射成另外的值，新的值类型可以和原来的元素的类型不同。</p>
<p>下面的代码中将字符元素映射成它的哈希码(ASCII值)。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">List&lt;Integer&gt; l = Stream.of(<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>)</span><br><span class="line">        .map( c -&gt; c.hashCode())</span><br><span class="line">        .collect(Collectors.toList());</span><br><span class="line">System.out.println(l); <span class="comment">//[97, 98, 99]</span></span><br></pre></td></tr></table></figure>
<h3 id="flatmap"><a href="#flatmap" class="headerlink" title="flatmap"></a>flatmap</h3><p><code>flatmap</code>方法混合了<code>map</code> + <code>flattern</code>的功能，它将映射后的流的元素全部放入到一个新的流中。它的方法定义如下：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&lt;R&gt; <span class="function">Stream&lt;R&gt; <span class="title">flatMap</span><span class="params">(Function&lt;? <span class="keyword">super</span> T,? extends Stream&lt;? extends R&gt;&gt; mapper)</span></span></span><br></pre></td></tr></table></figure>
<p>可以看到<code>mapper</code>函数会将每一个元素转换成一个流对象，而flatMap方法返回的流包含的元素为<code>mapper</code>生成的所有流中的元素。</p>
<p>下面这个例子中将一首唐诗生成一个按行分割的流，然后在这个流上调用<code>flatmap</code>得到单词的小写形式的集合，去掉重复的单词然后打印出来。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">String poetry = <span class="string">"Where, before me, are the ages that have gone?\n"</span> +</span><br><span class="line">        <span class="string">"And where, behind me, are the coming generations?\n"</span> +</span><br><span class="line">        <span class="string">"I think of heaven and earth, without limit, without end,\n"</span> +</span><br><span class="line">        <span class="string">"And I am all alone and my tears fall down."</span>;</span><br><span class="line">Stream&lt;String&gt; lines = Arrays.stream(poetry.split(<span class="string">"\n"</span>));</span><br><span class="line">Stream&lt;String&gt; words = lines.flatMap(line -&gt; Arrays.stream(line.split(<span class="string">" "</span>)));</span><br><span class="line">List&lt;String&gt; l = words.map( w -&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (w.endsWith(<span class="string">","</span>) || w.endsWith(<span class="string">"."</span>) || w.endsWith(<span class="string">"?"</span>))</span><br><span class="line">        <span class="keyword">return</span> w.substring(<span class="number">0</span>,w.length() -<span class="number">1</span>).trim().toLowerCase();</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="keyword">return</span> w.trim().toLowerCase();</span><br><span class="line">&#125;).distinct().sorted().collect(Collectors.toList());</span><br><span class="line">System.out.println(l); <span class="comment">//[ages, all, alone, am, and, are, before, behind, coming, down, earth, end, fall, generations, gone, have, heaven, i, limit, me, my, of, tears, that, the, think, where, without]</span></span><br></pre></td></tr></table></figure>
<p><code>flatMapToDouble</code>、<code>flatMapToInt</code>、<code>flatMapToLong</code>提供了转换成特定流的方法。</p>
<h3 id="limit"><a href="#limit" class="headerlink" title="limit"></a>limit</h3><p><code>limit</code>方法指定数量的元素的流。对于串行流，这个方法是有效的，这是因为它只需返回前n个元素即可，但是对于有序的并行流，它可能花费相对较长的时间，如果你不在意有序，可以将有序并行流转换为无序的，可以提高性能。</p>
<figure class="highlight gradle"><table><tr><td class="code"><pre><span class="line">List&lt;Integer&gt; l = IntStream.range(<span class="number">1</span>,<span class="number">100</span>).limit(<span class="number">5</span>)</span><br><span class="line">        .boxed()</span><br><span class="line">        .<span class="keyword">collect</span>(Collectors.<span class="keyword">toList</span>());</span><br><span class="line">System.out.<span class="keyword">println</span>(l);<span class="comment">//[1, 2, 3, 4, 5]</span></span><br></pre></td></tr></table></figure>
<h3 id="peek"><a href="#peek" class="headerlink" title="peek"></a>peek</h3><p><code>peek</code>方法方法会使用一个<code>Consumer</code>消费流中的元素，但是返回的流还是包含原来的流中的元素。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">String[] arr = <span class="keyword">new</span> String[]&#123;<span class="string">"a"</span>,<span class="string">"b"</span>,<span class="string">"c"</span>,<span class="string">"d"</span>&#125;;</span><br><span class="line">Arrays.stream(arr)</span><br><span class="line">        .peek(System.out::println) <span class="comment">//a,b,c,d</span></span><br><span class="line">        .count();</span><br></pre></td></tr></table></figure>
<h3 id="sorted"><a href="#sorted" class="headerlink" title="sorted"></a>sorted</h3><p><code>sorted()</code>将流中的元素按照自然排序方式进行排序，如果元素没有实现Comparable，则终点操作执行时会抛出<code>java.lang.ClassCastException</code>异常。<br><code>sorted(Comparator&lt;? super T&gt; comparator)</code>可以指定排序的方式。</p>
<p>对于有序流，排序是稳定的。对于非有序流，不保证排序稳定。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">String[] arr = <span class="keyword">new</span> String[]&#123;<span class="string">"b_123"</span>,<span class="string">"c+342"</span>,<span class="string">"b#632"</span>,<span class="string">"d_123"</span>&#125;;</span><br><span class="line">List&lt;String&gt; l  = Arrays.stream(arr)</span><br><span class="line">        .sorted((s1,s2) -&gt; &#123;</span><br><span class="line">            <span class="keyword">if</span> (s1.charAt(<span class="number">0</span>) == s2.charAt(<span class="number">0</span>))</span><br><span class="line">                <span class="keyword">return</span> s1.substring(<span class="number">2</span>).compareTo(s2.substring(<span class="number">2</span>));</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                <span class="keyword">return</span> s1.charAt(<span class="number">0</span>) - s2.charAt(<span class="number">0</span>);</span><br><span class="line">        &#125;)</span><br><span class="line">        .collect(Collectors.toList());</span><br><span class="line">System.out.println(l); <span class="comment">//[b_123, b#632, c+342, d_123]</span></span><br></pre></td></tr></table></figure>
<h3 id="skip"><a href="#skip" class="headerlink" title="skip"></a>skip</h3><p><code>skip</code>返回丢弃了前n个元素的流，如果流中的元素小于或者等于n，则返回空的流。</p>
<h2 id="终点操作-terminal-operations"><a href="#终点操作-terminal-operations" class="headerlink" title="终点操作 terminal operations"></a>终点操作 terminal operations</h2><h3 id="Match"><a href="#Match" class="headerlink" title="Match"></a>Match</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> 	<span class="title">allMatch</span><span class="params">(Predicate&lt;? <span class="keyword">super</span> T&gt; predicate)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">boolean</span> 	<span class="title">anyMatch</span><span class="params">(Predicate&lt;? <span class="keyword">super</span> T&gt; predicate)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">boolean</span> 	<span class="title">noneMatch</span><span class="params">(Predicate&lt;? <span class="keyword">super</span> T&gt; predicate)</span></span></span><br></pre></td></tr></table></figure>
<p>这一组方法用来检查流中的元素是否满足断言。</p>
<p><code>allMatch</code>只有在所有的元素都满足断言时才返回true,否则flase,流为空时总是返回true</p>
<p><code>anyMatch</code>只有在任意一个元素满足断言时就返回true,否则flase,</p>
<p><code>noneMatch</code>只有在所有的元素都不满足断言时才返回true,否则flase,</p>
<figure class="highlight arduino"><table><tr><td class="code"><pre><span class="line">System.out.<span class="built_in">println</span>(<span class="built_in">Stream</span>.of(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>).allMatch( i -&gt; i &gt; <span class="number">0</span>)); <span class="comment">//true</span></span><br><span class="line">System.out.<span class="built_in">println</span>(<span class="built_in">Stream</span>.of(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>).anyMatch( i -&gt; i &gt; <span class="number">0</span>)); <span class="comment">//true</span></span><br><span class="line">System.out.<span class="built_in">println</span>(<span class="built_in">Stream</span>.of(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>).noneMatch( i -&gt; i &gt; <span class="number">0</span>)); <span class="comment">//false</span></span><br><span class="line">System.out.<span class="built_in">println</span>(<span class="built_in">Stream</span>.&lt;Integer&gt;empty().allMatch( i -&gt; i &gt; <span class="number">0</span>)); <span class="comment">//true</span></span><br><span class="line">System.out.<span class="built_in">println</span>(<span class="built_in">Stream</span>.&lt;Integer&gt;empty().anyMatch( i -&gt; i &gt; <span class="number">0</span>)); <span class="comment">//false</span></span><br><span class="line">System.out.<span class="built_in">println</span>(<span class="built_in">Stream</span>.&lt;Integer&gt;empty().noneMatch( i -&gt; i &gt; <span class="number">0</span>)); <span class="comment">//true</span></span><br></pre></td></tr></table></figure>
<h3 id="count"><a href="#count" class="headerlink" title="count"></a>count</h3><p><code>count</code>方法返回流中的元素的数量。它实现为：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">mapToLong(e -&gt; <span class="number">1L</span>).sum();</span><br></pre></td></tr></table></figure>
<h3 id="collect"><a href="#collect" class="headerlink" title="collect"></a>collect</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">&lt;R,A&gt; <span class="function">R 	<span class="title">collect</span><span class="params">(Collector&lt;? <span class="keyword">super</span> T,A,R&gt; collector)</span></span><br><span class="line">&lt;R&gt; R 	<span class="title">collect</span><span class="params">(Supplier&lt;R&gt; supplier, BiConsumer&lt;R,? <span class="keyword">super</span> T&gt; accumulator, BiConsumer&lt;R,R&gt; combiner)</span></span></span><br></pre></td></tr></table></figure>
<p>使用一个<code>collector</code>执行<code>mutable reduction</code>操作。辅助类<code>Collectors</code>提供了很多的<code>collector</code>，可以满足我们日常的需求，你也可以创建新的<code>collector</code>实现特定的需求。它是一个值得关注的类，你需要熟悉这些特定的收集器，如聚合类<code>averagingInt</code>、最大最小值<code>maxBy</code> <code>minBy</code>、计数<code>counting</code>、分组<code>groupingBy</code>、字符串连接<code>joining</code>、分区<code>partitioningBy</code>、汇总<code>summarizingInt</code>、化简<code>reducing</code>、转换<code>toXXX</code>等。</p>
<p>第二个提供了更底层的功能，它的逻辑类似下面的伪代码：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">R result = supplier.get();</span><br><span class="line"><span class="keyword">for</span> (T element : <span class="keyword">this</span> stream)</span><br><span class="line">    accumulator.accept(result, element);</span><br><span class="line"><span class="keyword">return</span> result;</span><br></pre></td></tr></table></figure>
<p>例子：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">List&lt;String&gt; asList = stringStream.collect(ArrayList::<span class="keyword">new</span>, ArrayList::add,</span><br><span class="line">                                           ArrayList::addAll);</span><br><span class="line">String concat = stringStream.collect(StringBuilder::<span class="keyword">new</span>, StringBuilder::append,</span><br><span class="line">                                     StringBuilder::append)</span><br><span class="line">                            .toString();</span><br></pre></td></tr></table></figure>
<h3 id="find"><a href="#find" class="headerlink" title="find"></a>find</h3><p><code>findAny()</code>返回任意一个元素，如果流为空，返回空的<code>Optional</code>，对于并行流来说，它只需要返回任意一个元素即可，所以性能可能要好于<code>findFirst()</code>，但是有可能多次执行的时候返回的结果不一样。<br><code>findFirst()</code>返回第一个元素，如果流为空，返回空的<code>Optional</code>。</p>
<h3 id="forEach、forEachOrdered"><a href="#forEach、forEachOrdered" class="headerlink" title="forEach、forEachOrdered"></a>forEach、forEachOrdered</h3><p><code>forEach</code>遍历流的每一个元素，执行指定的action。它是一个终点操作，和peek方法不同。这个方法不担保按照流的<code>encounter order</code>顺序执行，如果对于有序流按照它的<code>encounter order</code>顺序执行，你可以使用<code>forEachOrdered</code>方法。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Stream.of(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>).forEach(System.out::println);</span><br></pre></td></tr></table></figure>
<h3 id="max、min"><a href="#max、min" class="headerlink" title="max、min"></a>max、min</h3><p><code>max</code>返回流中的最大值，</p>
<p><code>min</code>返回流中的最小值。</p>
<h3 id="reduce"><a href="#reduce" class="headerlink" title="reduce"></a>reduce</h3><p><code>reduce</code>是常用的一个方法，事实上很多操作都是基于它实现的。</p>
<p>它有几个重载方法：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="function">pubic Optional&lt;T&gt; 	<span class="title">reduce</span><span class="params">(BinaryOperator&lt;T&gt; accumulator)</span></span><br><span class="line">pubic T 	<span class="title">reduce</span><span class="params">(T identity, BinaryOperator&lt;T&gt; accumulator)</span></span><br><span class="line">pubic &lt;U&gt; U 	<span class="title">reduce</span><span class="params">(U identity, BiFunction&lt;U,? <span class="keyword">super</span> T,U&gt; accumulator, BinaryOperator&lt;U&gt; combiner)</span></span></span><br></pre></td></tr></table></figure>
<p>第一个方法使用流中的第一个值作为初始值，后面两个方法则使用一个提供的初始值。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">Optional&lt;Integer&gt; total = Stream.of(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>).reduce( (x, y) -&gt; x +y);</span><br><span class="line">Integer total2 = Stream.of(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>).reduce(<span class="number">0</span>, (x, y) -&gt; x +y);</span><br></pre></td></tr></table></figure>
<p>值得注意的是<code>accumulator</code>应该满足结合性(associative)。</p>
<h3 id="toArray"><a href="#toArray" class="headerlink" title="toArray()"></a>toArray()</h3><p>将流中的元素放入到一个数组中。</p>
<h2 id="组合"><a href="#组合" class="headerlink" title="组合"></a>组合</h2><p><code>concat</code>用来连接类型一样的两个流。</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; <span class="function">Stream&lt;T&gt; 	<span class="title">concat</span><span class="params">(Stream&lt;? extends T&gt; a, Stream&lt;? extends T&gt; b)</span></span></span><br></pre></td></tr></table></figure>
<h2 id="转换"><a href="#转换" class="headerlink" title="转换"></a>转换</h2><p><code>toArray</code>方法将一个流转换成数组，而如果想转换成其它集合类型，西需要调用<code>collect</code>方法，利用<code>Collectors.toXXX</code>方法进行转换：</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> &lt;T,C extends Collection&lt;T&gt;&gt; Collector&lt;T,?,C&gt; 	toCollection(Supplier&lt;C&gt; collectionFactory)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> …… 	toConcurrentMap(……)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; Collector&lt;T,?,List&lt;T&gt;&gt; 	toList()</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> …… 	toMap(……)</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; Collector&lt;T,?,Set&lt;T&gt;&gt; 	toSet()</span><br></pre></td></tr></table></figure>
<h2 id="更进一步"><a href="#更进一步" class="headerlink" title="更进一步"></a>更进一步</h2><p>虽然Stream提供了很多的操作，但是相对于Scala等语言，似乎还少了一些。一些开源项目提供了额外的一些操作，比如<a href="https://github.com/poetix/protonpack" target="_blank" rel="external">protonpack</a>项目提供了下列方法：</p>
<ul>
<li>takeWhile and takeUntil</li>
<li>skipWhile and skipUntil</li>
<li>zip and zipWithIndex</li>
<li>unfold</li>
<li>MapStream</li>
<li>aggregate</li>
<li>Streamable</li>
<li>unique collector</li>
</ul>
<p><a href="https://github.com/NitorCreations/java8-utils" target="_blank" rel="external">java8-utils</a> 也提供了一些有益的辅助方法。</p>
<h2 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h2><p><a href="https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html" target="_blank" rel="external">https://docs.oracle.com/javase/8/docs/api/java/util/stream/package-summary.html</a><br><a href="http://www.leveluplunch.com/java/examples/" target="_blank" rel="external">http://www.leveluplunch.com/java/examples/</a><br><a href="https://github.com/poetix/protonpack" target="_blank" rel="external">https://github.com/poetix/protonpack</a><br><a href="https://github.com/NitorCreations/java8-utils" target="_blank" rel="external">https://github.com/NitorCreations/java8-utils</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://tonydeng.github.io/2016/04/25/java-stream/" data-id="civ2es9qd0048g4pxuj4i1spr" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/java/">java</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/stream/">stream</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2016/05/11/junit-more-feature/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          使用Junit的一些的高级用法
        
      </div>
    </a>
  
  
    <a href="/2016/04/01/gitignore/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">gitignore最佳实践</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Leiningen-Clojure之旅/">Leiningen + Clojure之旅</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Mac-OSX/">Mac OSX</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/产品设计/">产品设计</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/安全/">安全</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/工具/">工具</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/工程师文化/">工程师文化</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/性能/">性能</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/效率/">效率</a><span class="category-list-count">19</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/数据库/">数据库</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/架构/">架构</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/生活感悟/">生活感悟</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/程序设计/">程序设计</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/管理/">管理</a><span class="category-list-count">2</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Bitstream-Vera-Mono/">Bitstream Vera Mono</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DejaVu-Sans-Mono/">DejaVu Sans Mono</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DocLint/">DocLint</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/UE/">UE</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/api/">api</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/autosuggestions/">autosuggestions</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/brew/">brew</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cache/">cache</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/clojure/">clojure</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/color/">color</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/database/">database</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/design/">design</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/download/">download</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/email/">email</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/engineered/">engineered</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/engineering/">engineering</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/etcd/">etcd</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/etcd4j/">etcd4j</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ffmpeg/">ffmpeg</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/fonts/">fonts</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/front-end/">front-end</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gitignore/">gitignore</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/golang/">golang</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gradle/">gradle</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/grunt/">grunt</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hacker/">hacker</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/html5/">html5</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/http/">http</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/httpie/">httpie</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/iconv/">iconv</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java/">java</a><span class="tag-list-count">10</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java8/">java8</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javadoc/">javadoc</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javadoc-plugin/">javadoc-plugin</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/juit/">juit</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/leiningen/">leiningen</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/life/">life</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lru/">lru</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lsof/">lsof</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mac/">mac</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mac-osx/">mac osx</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mailcap/">mailcap</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/manager/">manager</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mananger/">mananger</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/maven/">maven</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/maven-plugin/">maven-plugin</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/netstat/">netstat</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/netty/">netty</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nginx/">nginx</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nodejs/">nodejs</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nosql/">nosql</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/octopress/">octopress</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/osx/">osx</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/performance/">performance</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/plugin/">plugin</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/product/">product</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/professional/">professional</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/program/">program</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/project/">project</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/properties/">properties</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pssh/">pssh</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/rdb/">rdb</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/restful/">restful</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/rule/">rule</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/script/">script</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/security/">security</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/shell/">shell</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sql/">sql</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/statistics/">statistics</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/stream/">stream</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sublime/">sublime</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tcp-ip/">tcp/ip</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tesseact/">tesseact</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/testcase/">testcase</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/the-six-thinking-hasts/">the six thinking hasts</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/thinking/">thinking</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/undo/">undo</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/unix/">unix</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/user-experience/">user experience</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/version/">version</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/video/">video</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vulnerability/">vulnerability</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/youtube-dl/">youtube-dl</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/zsh/">zsh</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/六顶思考帽/">六顶思考帽</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Bitstream-Vera-Mono/" style="font-size: 10px;">Bitstream Vera Mono</a> <a href="/tags/DejaVu-Sans-Mono/" style="font-size: 10px;">DejaVu Sans Mono</a> <a href="/tags/DocLint/" style="font-size: 10px;">DocLint</a> <a href="/tags/UE/" style="font-size: 10px;">UE</a> <a href="/tags/api/" style="font-size: 10px;">api</a> <a href="/tags/autosuggestions/" style="font-size: 10px;">autosuggestions</a> <a href="/tags/brew/" style="font-size: 11.67px;">brew</a> <a href="/tags/cache/" style="font-size: 10px;">cache</a> <a href="/tags/clojure/" style="font-size: 11.67px;">clojure</a> <a href="/tags/color/" style="font-size: 10px;">color</a> <a href="/tags/database/" style="font-size: 10px;">database</a> <a href="/tags/design/" style="font-size: 10px;">design</a> <a href="/tags/download/" style="font-size: 10px;">download</a> <a href="/tags/email/" style="font-size: 10px;">email</a> <a href="/tags/engineered/" style="font-size: 18.33px;">engineered</a> <a href="/tags/engineering/" style="font-size: 10px;">engineering</a> <a href="/tags/etcd/" style="font-size: 13.33px;">etcd</a> <a href="/tags/etcd4j/" style="font-size: 10px;">etcd4j</a> <a href="/tags/ffmpeg/" style="font-size: 10px;">ffmpeg</a> <a href="/tags/fonts/" style="font-size: 10px;">fonts</a> <a href="/tags/front-end/" style="font-size: 13.33px;">front-end</a> <a href="/tags/git/" style="font-size: 15px;">git</a> <a href="/tags/gitignore/" style="font-size: 10px;">gitignore</a> <a href="/tags/golang/" style="font-size: 11.67px;">golang</a> <a href="/tags/gradle/" style="font-size: 10px;">gradle</a> <a href="/tags/grunt/" style="font-size: 10px;">grunt</a> <a href="/tags/hacker/" style="font-size: 10px;">hacker</a> <a href="/tags/html5/" style="font-size: 10px;">html5</a> <a href="/tags/http/" style="font-size: 10px;">http</a> <a href="/tags/httpie/" style="font-size: 10px;">httpie</a> <a href="/tags/iconv/" style="font-size: 10px;">iconv</a> <a href="/tags/java/" style="font-size: 20px;">java</a> <a href="/tags/java8/" style="font-size: 10px;">java8</a> <a href="/tags/javadoc/" style="font-size: 10px;">javadoc</a> <a href="/tags/javadoc-plugin/" style="font-size: 10px;">javadoc-plugin</a> <a href="/tags/juit/" style="font-size: 10px;">juit</a> <a href="/tags/leiningen/" style="font-size: 11.67px;">leiningen</a> <a href="/tags/life/" style="font-size: 11.67px;">life</a> <a href="/tags/linux/" style="font-size: 16.67px;">linux</a> <a href="/tags/lru/" style="font-size: 10px;">lru</a> <a href="/tags/lsof/" style="font-size: 10px;">lsof</a> <a href="/tags/mac/" style="font-size: 11.67px;">mac</a> <a href="/tags/mac-osx/" style="font-size: 10px;">mac osx</a> <a href="/tags/mailcap/" style="font-size: 10px;">mailcap</a> <a href="/tags/manager/" style="font-size: 10px;">manager</a> <a href="/tags/mananger/" style="font-size: 10px;">mananger</a> <a href="/tags/maven/" style="font-size: 13.33px;">maven</a> <a href="/tags/maven-plugin/" style="font-size: 10px;">maven-plugin</a> <a href="/tags/netstat/" style="font-size: 10px;">netstat</a> <a href="/tags/netty/" style="font-size: 10px;">netty</a> <a href="/tags/nginx/" style="font-size: 10px;">nginx</a> <a href="/tags/nodejs/" style="font-size: 10px;">nodejs</a> <a href="/tags/nosql/" style="font-size: 10px;">nosql</a> <a href="/tags/octopress/" style="font-size: 10px;">octopress</a> <a href="/tags/osx/" style="font-size: 10px;">osx</a> <a href="/tags/performance/" style="font-size: 10px;">performance</a> <a href="/tags/plugin/" style="font-size: 10px;">plugin</a> <a href="/tags/product/" style="font-size: 13.33px;">product</a> <a href="/tags/professional/" style="font-size: 10px;">professional</a> <a href="/tags/program/" style="font-size: 10px;">program</a> <a href="/tags/project/" style="font-size: 11.67px;">project</a> <a href="/tags/properties/" style="font-size: 10px;">properties</a> <a href="/tags/pssh/" style="font-size: 10px;">pssh</a> <a href="/tags/rdb/" style="font-size: 10px;">rdb</a> <a href="/tags/restful/" style="font-size: 10px;">restful</a> <a href="/tags/rule/" style="font-size: 10px;">rule</a> <a href="/tags/script/" style="font-size: 10px;">script</a> <a href="/tags/security/" style="font-size: 10px;">security</a> <a href="/tags/shell/" style="font-size: 15px;">shell</a> <a href="/tags/sql/" style="font-size: 10px;">sql</a> <a href="/tags/statistics/" style="font-size: 10px;">statistics</a> <a href="/tags/stream/" style="font-size: 10px;">stream</a> <a href="/tags/sublime/" style="font-size: 10px;">sublime</a> <a href="/tags/tcp-ip/" style="font-size: 10px;">tcp/ip</a> <a href="/tags/tesseact/" style="font-size: 10px;">tesseact</a> <a href="/tags/testcase/" style="font-size: 10px;">testcase</a> <a href="/tags/the-six-thinking-hasts/" style="font-size: 10px;">the six thinking hasts</a> <a href="/tags/thinking/" style="font-size: 15px;">thinking</a> <a href="/tags/undo/" style="font-size: 10px;">undo</a> <a href="/tags/unix/" style="font-size: 10px;">unix</a> <a href="/tags/user-experience/" style="font-size: 10px;">user experience</a> <a href="/tags/version/" style="font-size: 10px;">version</a> <a href="/tags/video/" style="font-size: 10px;">video</a> <a href="/tags/vulnerability/" style="font-size: 10px;">vulnerability</a> <a href="/tags/youtube-dl/" style="font-size: 10px;">youtube-dl</a> <a href="/tags/zsh/" style="font-size: 11.67px;">zsh</a> <a href="/tags/六顶思考帽/" style="font-size: 10px;">六顶思考帽</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">November 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">August 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">July 2016</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">June 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">May 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">April 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">November 2015</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">October 2015</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/09/">September 2015</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">August 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/07/">July 2015</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/05/">May 2015</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/03/">March 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/02/">February 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/01/">January 2015</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/12/">December 2014</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2009/10/">October 2009</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2006/03/">March 2006</a><span class="archive-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/11/03/etcd4j-blocking-investigation-and-lifting-process/">etcd4j阻塞排查和解除过程</a>
          </li>
        
          <li>
            <a href="/2016/08/05/zsh-plugins-like-fish-shell/">为ZSH实现Fish Shell的效果</a>
          </li>
        
          <li>
            <a href="/2016/07/28/on-the-use-of-tesseract-picture-text-recognition/">利用Tesseract图片文字识别初探</a>
          </li>
        
          <li>
            <a href="/2016/07/19/how-the-program-ape-is-coming-to-download-and-process-video/">看看程序猿是如何来下载和处理视频</a>
          </li>
        
          <li>
            <a href="/2016/07/19/leiningen-clojure-hello-world/">Leiningen + Clojure Hello World!</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 Tony Deng<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>